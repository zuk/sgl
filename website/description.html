<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link rel="stylesheet" href="stylesheets/screen.css" type="text/css" media="screen" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
      sglの説明
  </title>
  <script src="javascripts/rounded_corners_lite.inc.js" type="text/javascript"></script>
<style>

</style>
  <script type="text/javascript">
    window.onload = function() {
      settings = {
          tl: { radius: 10 },
          tr: { radius: 10 },
          bl: { radius: 10 },
          br: { radius: 10 },
          antiAlias: true,
          autoPad: true,
          validTags: ["div"]
      }
      var versionBox = new curvyCorners(settings, document.getElementById("version"));
      versionBox.applyCornersToAll();
    }
  </script>
</head>
<body>
<div id="main">

    <h1>sglの説明</h1>
    <div id="version" class="clickable" onclick='document.location = "http://rubyforge.org/projects/sgl"; return false'>
      <p>Get Version</p>
      <a href="http://rubyforge.org/projects/sgl" class="numbers">0.3.1</a>
    </div>
    <h2>What is sgl?</h2>


	<p>sglは，Rubyからグラフィックやサウンドを簡単に扱えるようにしたライブラ
リである．できるだけ優しくプログラミングを初められるように，シンプルな
記述で必要最小限の動作するプログラムを作成できるようになっている．</p>


	<p>これは元々DBNというプログラミング環境が提供していた仕様を継承したもの
であり，基本的には同じようなコマンドを使えるようにしている．また，DBN
の意図を継承したという点で，Processingとは兄弟のような関係にある．</p>


	<p>グラフィックスはOpenGL，Window表示，マウス入力，キー入力などにはSDLを
用いている．またMIDIの入出力なども組み合せて使えるようになっている．ラ
イブラリーの構造はGLUTを参考にしている．</p>


<pre syntax="ruby">
●基本的なプログラムの例
reuire 'sgl'        # 最初に必ず必要
window 100,100      # 100x100のウィンドウを生成
background 0        # 背景は黒にします
color 100           # 白を指定します
line 20,20,80,80    # 線を引きます
rect 20,20,80,80    # 四角を描きます
wait                # プログラムが終了しないように待つ．ESCキーで終了する．

●色空間
color 100,0,0          # 赤になる．r,g,bで色が使える
color 100,0,0,50       # 半透明の赤．100が不透明(デフォルト)．0が完全に透明．
colorHSV 50,0,100      # hsv方式での色指定もできる．
backgroundHSV 70,0,100 # 背景の指定もhsvでできる．
colorHSV 50,0,100,50   # もちろんhsv方式でもアルファ値は指定できる．

●3Dも使える
useFov(60)             # field of view．画角を指定
useDepth               # depth bufferを使う
line 20,20,20,80,80,80 # とりあえず線
color 0,100,0,50       # とりあえず半透明
box 20,20,20,80,80,80  # 箱．半透明になっている
useSmooth              # 線にanti aliasがかかる．

●MIDI関係
useMidi              # midiを使うということ宣言
note 1, 60, 90, 100  # ch, note, vel, msec．

●詳細な描画について
beginObj(QUADS)
vertex 20,20
vertex 80,20
vertex 80,80
vertex 20,80
endObj
# 同様に，vertexにz軸の情報を加えれば，3Dとなる．

オブジェクトの種類は，
LINES POINTS LINE_STRIP LINE_LOOP TRIANGLES TRIANGLE_STRIP
TRIANGLE_FAN QUADS QUAD_STRIP POLYGON
が使える．OpenGLと同じ．

●基本的なループ構造
window 100,100
def display
  line 0,0,100,100
end
mainloop
とすると，ループして，描画しつづける．

●マウス入力
ループした状態で，
def onMouseDown(x,y)
  line 0,0,x,y
end
などとすると，callbackがかかる．
同様に，onMouseUp, onKeyDown, onKeyUpなど．

●MIDI input関係
useMidiIn            # midi inを使うということ宣言
def onNoteOn(ch, note, vel)
  p [ch, note, vel]
end
などとできる．

同様に，onNoteOff(ch, note)もある．

●ソフトサンプラー機能
useSound
sound = loadSound('sine.wav')
sound.play(60, 100, -100) # note, vel, pan
</pre>

	<h2>What is Ruby?</h2>


	<p>sglはオブジェクト指向スクリプト言語Rubyを基盤として用いている．もし授
業の範囲を離れてプログラミング言語としての機能を学びたい場合は直接Ruby
についてのドキュメントを参照してください．</p>


	<ul>
	<li>http://www.ruby-lang.org/ja/</li>
	</ul>


	<p>以下の書籍をおすすめする．</p>


	<ul>
	<li><a href="http://www.pearsoned.co.jp/washo/prog/wa_pro44-j.html">デビッド・トーマス，アンドリュー・ハント「プログラミングRuby」ピアソン・エデュケーション, 2001.</a></li>
	</ul>


	<h2>What is OpenGL?</h2>


	<p>sglはグラフィック描画のためにOpenGLを使っている．そのため直接OpenGLの
関数を使うことも可能である．OpenGLについては様々な書籍があるが，下記の
テキストをおすすめする．sgl内からOpenGLを呼び出す方法については，直接
聞いてください．</p>


	<ul>
	<li>http://www.nk-exa.co.jp/mmtech/OpenGLEdu/</li>
		<li>http://www.nk-exa.co.jp/mmtech/OpenGLEdu/Documents/OpenGL-text-091.pdf</li>
	</ul>
    <p class="coda">
      19th June 2007<br>
      Theme extended from <a href="http://rb2js.rubyforge.org/">Paul Battley</a>
    </p>
</div>

<!-- insert site tracking codes here, like Google Urchin -->

</body>
</html>
